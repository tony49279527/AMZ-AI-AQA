# 本地启动说明

## 从 GitHub 拉取后首次运行（必读）

1. **一定要进入子目录**  
   仓库根目录是「整个项目」，可运行的应用在子目录 `report-generation-system` 里。请在终端里进入该目录，例如：
   ```bash
   cd report-generation-system
   ```
   （请把上面的路径改成你本机克隆后的实际路径，例如 `cd /path/to/your/report-generation-system`。）

2. **安装依赖**
   ```bash
   pnpm install
   ```
   如未安装 pnpm：`npm install -g pnpm`

3. **配置 API（只填一次，一直用）**
   ```bash
   cp .env.example .env.local
   ```
   打开 `.env.local`，只填这 2 个（变量名不会改）：
   - `OPENROUTER_API_KEY=` → 去 https://openrouter.ai 拿
   - `SCRAPINGBEE_API_KEY=` → 去 https://www.scrapingbee.com 拿  
   其他不用动。详见 `docs/只填一次-API配置.md`。

4. **启动**
   ```bash
   pnpm dev
   ```

5. 看到类似输出后，用浏览器打开：**http://127.0.0.1:3000** 或 **http://localhost:3000**。

**请勿通过改代码来「让项目能打开」**，只改配置（尤其是 `.env.local` 和确保在 `report-generation-system` 目录下运行）即可。改代码容易破坏已有功能（如仪表盘「我的报告 / 精选报告」、报告来源等）。

---

## 日常启动（已配置过环境后）

在 **report-generation-system** 目录下执行：

```bash
pnpm dev
```

看到类似输出：

```
▲ Next.js 16.0.10 (Turbopack)
- Local:    http://127.0.0.1:3000
✓ Ready in ...
```

用浏览器打开：**http://127.0.0.1:3000** 或 **http://localhost:3000**。

---

## 若仍打不开

- 确认终端里没有报错、且一直停在 `Ready` 没有退出。
- 换浏览器试试（Chrome / Edge / Safari）。
- 确认没有别的程序占用 3000 端口；若占用可改端口：  
  `pnpm exec next dev -H 127.0.0.1 -p 3001`  
  然后访问 http://127.0.0.1:3001
